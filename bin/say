#!/bin/sh
#
# I'm the say command.
#
# I can be extended with plugins by putting them in
# ./plugins/<plugin>/extend/<myname>/<action>
#
# e.g.
#  $ say hello world
#  runs: ./plugins/hello/extend/say/world
#

set -x

MY_NAME="${0##*/}"
BIN_DIR=$(readlink -n -f "${0%/*}")
BASE_DIR=$(cd "${BIN_DIR}/../"; pwd)
PLUGIN_DIR="${BASE_DIR}/plugins"

PLUGIN="$1"; shift
ACTION="$1"; shift

CMD="$PLUGIN_DIR/$PLUGIN/extend/$MY_NAME/$ACTION"

set -x
$CMD "$@"



